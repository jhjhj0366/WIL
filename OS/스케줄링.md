# 스케줄링

### 목표

- 스케줄링 단계 이해
- 장기 스케줄러와 단기 스케줄러의 역할 이해
- 다양한 프로세스 스케줄링 알고리즘 특성 이해

### 스케줄링

시스템의 목표를 달성할 수 있도록 프로세스를 할당하는 일련의 과정이다.

즉, 시스템의 목표인 프로세스의 이용률을 높이고 시스템간의 작업 능력을 향상시키고 작업의 응답 시간을 최소화하기 위한 과정이다.

### 다중 프로그래밍의 목적

- 다중 프로그래밍의 목적은 CPU 이용률을 높인다.
- 항상 임의의 프로세스를 실행할 수 있도록 하기 위해서 사용한다.

### 시분할 시스템의 목적

- 시분할 시스템의 목적은 프로그램이 수행되는 동안 사용자가 각 프로그램과 상호작용할 수 있기 위해 사용한다.
- CPU가 프로세스들 사이를 빠르게 전환하며 수행한다.

### 프로세스 스케줄러

프로세스들 중에 수행 가능한 한 프로세스를 선택한다. 결론은 여러 작업들 사이 하나의 CPU가 작업을 전환해가면서 CPU 이용률을 높이고 사용자가 프로그램과 상호작용이 끊기지 않아 사용자의 편의성을 높여준다.

<aside>
💡 그러나 하나의 프로그램이 실행될 때 모든 작업이 스케줄링의 대상은 되지 않고 한 번에 처리될 수 있다.

</aside>

### 스케줄링 여부

- 스케줄링 하지 않고 실행하는 작업은 인터럽트와 오류 처리, 그리고 사용자의 시스템 호출 등의 사전 처리 등이 있다.
- 스케줄링해야 하는 작업은 사용자 프로세스와 시스템 프로세스가 있다.

### 프로세스 실행

프로세스가 실행될 때의 동작은 실행(프로세스 버스트)과 입출력 대기(입출력 버스트)의 순환으로 구성되어 있다. 즉, 프로세스는 실행과 입출력 대기 사이에서 교대로 진행한다.

### 프로세스 버스트

프로세스 버스트 지속시간은 일반적으로 다음과 같은 지수 성질의 빈도 곡선으로 표현된다.

- 프로세스 중심의 프로그램은 긴 CPU 버스트를 가진다.
    - 프로세스 중심 작업
- 입출력 중심의 프로그램은 짧은 CPU를 가진다.
    - 입출력 중심 작업

### 스케줄링 단계

**작업 스케줄링**

작업 스케줄링은 승인 스케줄링 또는 장기 스케줄링이라 불린다. 시작을 기다리는 작업의 작업을 시작한다.

**결정 스케줄링**

결정 스케줄링은 중기 스케줄링이라 불린다. 스와핑 기능의 일부이다. 활성화되기를 기다리는 프로세스들을 활성화한다.

**할당 스케줄링**

할당 스케줄링은 단기 스케줄링이라 불린다. 활성화될 수 있는 프로세스들을 실행(디스패치)한다. 

**디스패칭**

실제 CPU에 할당하는 스케줄링이라 해서 디스패치라 한다.

> 💡 모든 시스템에서 이 세가지 스케줄링이 동반되는 것은 아니다. 최근 시스템에서는 작업 스케줄링인 장기 스케줄링은 사용자의 동작으로 대체되어 2단계, 3단계로 진행된다.

### 스케줄링시 고려 사항

- 자원 할당의 공정성
    - 어느 프로세스도 무한정 실행이 연기되어서는 안된다.
- 단위 시간당 처리량 향상
- 적절한 응답 시간 유지
- 예측 가능성
    - 시스템 부하에 무관하게 같은 시간 내에 비슷한 비용으로 실행 가능해야 한다.
- 일반적으로 과부하는 줄여야 한다.
- 자원 사용
    - 가능한 사용율을 높일 수 있도록 스케줄링한다.
- 응답 시간과 자원 활용 간 균형 유지
    - 응답 시간을 줄이기 위해서 충분한 자원을 확보해야 한다.
    
    > 💡 자원 활용을 위해 자원을 무작정 확보하게 되어 다른 자원들이 필요한 상황에서 사용하지 못하는 경우도 있다. 이렇게 자원 활용도를 낮추게 되는 원인이 되기도 한다.
    
- 실행 대기
    - 실행이 연기되는 것을 피해야 한다.
    
    > 💡 대표적인 방법으로 에이징 기법이 있다.
    
- 프로세스 우선순위
- 서비스 사용 기회
- 서비스 수
    - 갑작스런 서비스 수 감소 방지 필요하다.
    - 과부하에 대처해야 한다.