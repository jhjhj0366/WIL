# 액세스 회선을 통해 인터넷의 내부로!

이 장에서는 패킷이 인터넷 접속용 라우터를 경유하여 인터넷 안으로 들어가 진행하는 모습을 탐험한다.

1. ADSL 기술을 이용한 액세스 회선의 구조와 동작
    - 요약
        - 가정이나 회사의 LAN은 액세스 회선이라는 통신 회선으로 프로바이더에 연결되어 있다. 액세스 회선에는 여러 종류가 있는데, 그 중 ADSL 기술을 이용한 액세스 회선이 있다. 스위칭 허브와 라우터로 패킷을 중계하면 패킷은 목적지 서버를 향해 진행하게 되는데, 이 때 인터넷 접속용 라우터를 경유하려 인터넷에 나가게 된다.
        - ADSL에서 사용하는 변조 기술은 진폭 변조(ASK)라는 방식과 위상 변조(PSK)라는 방식을 결합한 직교 진폭 변조(QAM)이라는 방식을 사용한다.
        - 직교 진폭 변조(QAM) 방식은 신호의 진폭과 위상에 각각 1비트를 대응시키고, 하나의 파에 2비트분의 데이터를 대응시키는 것이다.
        - ADSL에서 신호를 단일 주파수의 파로 한정할 필요는 없다. 주파수가 서로 다른 파를 혼합하면 파를 합성할 수 있으며 특정 주파수의 파만 통과시키닌 필터 회로를 사용하면 주파수마다 파를 분리할 수 있다.
        - 스플리터는 전화와 ADSL의 신호를 나누는 역할을 한다. 구체적으로 일정한 주파수를 초과하는 신호를 차단하는 기능을 갖추고 있어서 ADSL의 높은 주파수 신호룰 차단한다.
        - 전화 케이블 속을 신호가 통과할 때 잡음의 영향을 받게 된다. ADSL은 높은 주파수의 신호를 흘리는 것을 가정하고 만든 것이 아니기 때문에 이더넷의 트위스트 페어 케이블보다 잡음의 영향을 받기 쉽다.
    - 내용
        
        [ADSL 기술을 이용한 액세스 회선의 구조와 동작](https://www.notion.so/ADSL-a20beb5f3d56431d8a466ba0d63632af)
        
2. 광섬유를 이용한 액세스 회선
    - 요약
        - FTTH는 광섬유를 사용한다.
        - 광섬유는 이중 구조의 가는 섬유질의 투명한 재질로 만들어져 있으며, 안쪽에 있는 코어 부분 속에 광신호를 흘려서 디지털 데이터를 전달한다.
        - 광섬유를 이용한 통신은 빛을 전달한다는 것이다. 광섬유의 재질에 따라 빛에 영향을 끼친다.
        - 광섬유에 입사하는 빛은 각도가 다양한데, 그 중에서 반사될 떄 위상이 같은 각도로 입사된 소수의 빛만이 멀리 도달한다.
        - 코어의 직경에는 몇 종류가 있는데, 싱글모드(8 ~ 10um 정도)와 멀티모드(50um 또는 62.5um) 두 가지로 분류할 수 있다.
    - 내용
        
        [광섬유를 이용한 액세스 회선](https://www.notion.so/7f936ddb9e484db3a97595df8c4d3048)
        
3. 액세스 회선으로 이용하는 PPP와 터널링
    - 요약
        - BAS는 로그인 동작의 창구 역할이 된다. BAS는 이 역할을 실현하기 위해서 PPPoE 구조를 사용한다.
        - BAS에는 본인 환인 역할과 터널링 역할을 한다. BAS와 프로바이더의 라우터 사이에 있는 ADSL과 FTTH 접속 서비스 사업자의 네트워크 안에 터널을 만든다.
        - PPPoE 이외의 방식에는 PPPoA 방법과 DHCP 방법이 있다.
    - 내용
        
        [액세스 회선으로 이용하는 PPP와 터널링](https://www.notion.so/PPP-232d80e5d7c44146aab00166102dbb7f)
        
4. 프로바이더의 내부
    - 요약
        - 프로바이더는 인터넷의 입구이며, 여기에서부터 패킷은 인터넷의 내부로 들어간다. 인터넷의 실체는 다수의 프로바이더를 서로 연결한 것이다.
        - ADSL이나 FTTH의 액세스 회선은 사용자가 계약한 프로바이더의 설비에 연결되어 있는데, 이 설비를 POP라 한다. NOC는 프로바이더의 핵심이 되는 설비로 POP에서 들어온 패킷이 여기에 모여든다.
        - POP나 NOC는 전국 각지에 있는데, 규모에 차이가 있다. 건물 안 어딘가에 있으므로 그 안에 있는 라우터는 케이블로 직접 접속하거나 스위치를 경유하여 접속한다.
        - **건물 내부 접속에는** LAN을 사용한 접속, 트위스트 페어 케이블을 사용한 접속, 광섬유 케이블을 사용한 접속이 있다.
        - **건물 외부 접속**에는 광섬유를 사용해 연결하는 방법과 광섬유를 대출받는 방법(통신 회선)이 있다.
    - 내용
        
        [프로바이더의 내부](https://www.notion.so/7ade2d4e8d0648f4ac69d66e5b1b5cbb)
        
5. 프로바이더를 경유하여 흐르는 패킷
    - 요약
        - 인터넷의 라우터에는 최종 목적지가 동일 프로바이더인지 다른 프로바이더인지와 상관없이 모든 경로가 등록되어 있다. 그러므로 경로표에서 다음 중계 대상을 찾아 거기에 패킷을 보낸다는 동작을 반복하면 그 중에서 웹 서버측의 POP에 도착한다.
        - 프로바이더는 경로 정보를 등록하지 않으면 패킷을 중계할 수 없다. 그래서 프로바이더 간에 경로를 교환이 필요하고 라우터에 자동 등록한다.
        - 상태가 경로 정보를 가르쳐주면 이쪽에서도 같은 방법으로 경로 정보를 상대에게 통지한다. 그러면 상대측에 이쪽의 네트워크로 보낼 패킷이 흘러온다. 이 경로 정보 교환은 라우터가 자동적으로 수행하고 여기에 사용하는 구조를 BGP라 한다.
        - IX를 경유해 접속하는 방법을 선택하면 통신 회선의 수를 억제할 수 있다.
    - 내용
        
        [프로바이더를 경유하여 흐르는 패킷](https://www.notion.so/2d2dae8b42964c97810704fd88dbd0c2)